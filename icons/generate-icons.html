<!DOCTYPE html>
<html>
<head>
  <title>Generate Castle Defense Icons</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #1a1a2e; color: #fff; }
    .icon-grid { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
    .icon-item { text-align: center; }
    canvas { border: 1px solid #ffd700; border-radius: 8px; }
    button { background: #ffd700; color: #000; border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; border-radius: 4px; margin: 5px; }
    a { color: #ffd700; }
  </style>
</head>
<body>
  <h1>Castle Defense Icon Generator</h1>
  <p>Click each button to download the PNG icon at that size.</p>
  <div class="icon-grid" id="icons"></div>

  <script>
    const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
    const container = document.getElementById('icons');

    function drawIcon(ctx, size) {
      const s = size / 512;

      // Background
      const bgGrad = ctx.createLinearGradient(0, 0, 0, size);
      bgGrad.addColorStop(0, '#1a1a2e');
      bgGrad.addColorStop(1, '#0f0f23');
      ctx.fillStyle = bgGrad;
      ctx.beginPath();
      ctx.roundRect(0, 0, size, size, 80 * s);
      ctx.fill();

      // Stone gradient
      const stoneGrad = ctx.createLinearGradient(0, 0, size, 0);
      stoneGrad.addColorStop(0, '#5a5a5a');
      stoneGrad.addColorStop(0.5, '#8a8a8a');
      stoneGrad.addColorStop(1, '#5a5a5a');

      // Castle Base
      ctx.fillStyle = stoneGrad;
      ctx.fillRect(156*s, 280*s, 200*s, 140*s);
      ctx.strokeStyle = '#3a3a3a';
      ctx.lineWidth = 4*s;
      ctx.strokeRect(156*s, 280*s, 200*s, 140*s);

      // Gate
      ctx.fillStyle = '#1a1a1a';
      ctx.beginPath();
      ctx.moveTo(220*s, 420*s);
      ctx.lineTo(220*s, 330*s);
      ctx.quadraticCurveTo(256*s, 300*s, 292*s, 330*s);
      ctx.lineTo(292*s, 420*s);
      ctx.fill();

      // Left Tower
      ctx.fillStyle = stoneGrad;
      ctx.fillRect(120*s, 200*s, 60*s, 220*s);
      ctx.fillStyle = '#8b0000';
      ctx.beginPath();
      ctx.moveTo(90*s, 200*s);
      ctx.lineTo(180*s, 200*s);
      ctx.lineTo(150*s, 140*s);
      ctx.fill();

      // Right Tower
      ctx.fillStyle = stoneGrad;
      ctx.fillRect(332*s, 200*s, 60*s, 220*s);
      ctx.fillStyle = '#8b0000';
      ctx.beginPath();
      ctx.moveTo(332*s, 200*s);
      ctx.lineTo(422*s, 200*s);
      ctx.lineTo(362*s, 140*s);
      ctx.fill();

      // Center Tower
      ctx.fillStyle = stoneGrad;
      ctx.fillRect(226*s, 160*s, 60*s, 120*s);
      ctx.fillStyle = '#8b0000';
      ctx.beginPath();
      ctx.moveTo(206*s, 160*s);
      ctx.lineTo(306*s, 160*s);
      ctx.lineTo(256*s, 100*s);
      ctx.fill();

      // Flag pole
      ctx.fillStyle = '#4a3a2a';
      ctx.fillRect(254*s, 70*s, 4*s, 40*s);

      // Flag
      const goldGrad = ctx.createLinearGradient(258*s, 70*s, 258*s, 100*s);
      goldGrad.addColorStop(0, '#ffd700');
      goldGrad.addColorStop(1, '#b8860b');
      ctx.fillStyle = goldGrad;
      ctx.beginPath();
      ctx.moveTo(258*s, 70*s);
      ctx.lineTo(298*s, 85*s);
      ctx.lineTo(258*s, 100*s);
      ctx.fill();

      // Battlements
      ctx.fillStyle = stoneGrad;
      [156, 196, 296, 336].forEach(x => {
        ctx.fillRect(x*s, 270*s, 20*s, 20*s);
      });

      // Title
      ctx.fillStyle = '#ffd700';
      ctx.font = `bold ${Math.max(12, 48*s)}px serif`;
      ctx.textAlign = 'center';
      ctx.fillText('DEFENSE', 256*s, 470*s);
    }

    sizes.forEach(size => {
      const item = document.createElement('div');
      item.className = 'icon-item';

      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      const ctx = canvas.getContext('2d');
      drawIcon(ctx, size);

      const btn = document.createElement('button');
      btn.textContent = `Download ${size}x${size}`;
      btn.onclick = () => {
        const link = document.createElement('a');
        link.download = `icon-${size}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
      };

      item.appendChild(canvas);
      item.appendChild(document.createElement('br'));
      item.appendChild(btn);
      container.appendChild(item);
    });
  </script>
</body>
</html>
